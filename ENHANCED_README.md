# å¢å¼ºç‰ˆ RSA å¯†é’¥ç®¡ç†å·¥å…·

è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ RSA å¯†é’¥ç®¡ç†å·¥å…·ï¼Œä¸ä»…æ”¯æŒå¯†é’¥ç”Ÿæˆï¼Œè¿˜åŒ…å«æ•°å­—ç­¾åã€åŠ å¯†è§£å¯†ã€å¯†é’¥ç®¡ç†ç­‰é«˜çº§åŠŸèƒ½ã€‚

## ğŸš€ æ–°åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- **å¯†é’¥ç”Ÿæˆ**: æ”¯æŒ 2048/4096 ä½ RSA å¯†é’¥å¯¹ç”Ÿæˆ
- **æ•°å­—ç­¾å**: ä½¿ç”¨ PSS å¡«å……æ–¹æ¡ˆè¿›è¡Œå®‰å…¨çš„æ•°å­—ç­¾å
- **ç­¾åéªŒè¯**: éªŒè¯æ¶ˆæ¯çš„å®Œæ•´æ€§å’ŒçœŸå®æ€§
- **åŠ å¯†è§£å¯†**: ä½¿ç”¨ OAEP å¡«å……æ–¹æ¡ˆè¿›è¡Œå®‰å…¨çš„åŠ å¯†è§£å¯†
- **å¯†é’¥ç®¡ç†**: å®Œæ•´çš„å¯†é’¥ç”Ÿå‘½å‘¨æœŸç®¡ç†

### é«˜çº§ç‰¹æ€§
- **å¯†é’¥æŒ‡çº¹**: ç”Ÿæˆå”¯ä¸€çš„å¯†é’¥æŒ‡çº¹ç”¨äºè¯†åˆ«
- **å¯†é’¥å¤‡ä»½**: è‡ªåŠ¨åˆ›å»ºå¸¦æ—¶é—´æˆ³çš„å¯†é’¥å¤‡ä»½
- **ä¿¡æ¯å¯¼å‡º**: å°†å¯†é’¥ä¿¡æ¯å¯¼å‡ºä¸º JSON æ ¼å¼
- **å‘½ä»¤è¡Œç•Œé¢**: æ”¯æŒå‘½ä»¤è¡Œå‚æ•°æ“ä½œ
- **æ–‡ä»¶æ“ä½œ**: æ”¯æŒå¯¹æ–‡ä»¶è¿›è¡Œç­¾åå’ŒéªŒè¯

## ğŸ“¦ å®‰è£…ä¾èµ–

```bash
pip install cryptography
```

## ğŸ› ï¸ ä½¿ç”¨æ–¹æ³•

### 1. åŸºæœ¬å¯†é’¥ç”Ÿæˆ

```bash
# ç”Ÿæˆ 2048 ä½ RSA å¯†é’¥å¯¹
python enhanced_rsa_tool.py --action generate

# ç”Ÿæˆ 4096 ä½ RSA å¯†é’¥å¯¹
python enhanced_rsa_tool.py --action generate --key-size 4096
```

### 2. æ•°å­—ç­¾å

```bash
# å¯¹æ¶ˆæ¯è¿›è¡Œç­¾å
python enhanced_rsa_tool.py --action sign --message "è¦ç­¾åçš„æ¶ˆæ¯"

# å¯¹æ¶ˆæ¯è¿›è¡Œç­¾åå¹¶ä¿å­˜åˆ°æ–‡ä»¶
python enhanced_rsa_tool.py --action sign --message "è¦ç­¾åçš„æ¶ˆæ¯" --signature-file signature.bin
```

### 3. ç­¾åéªŒè¯

```bash
# éªŒè¯ç­¾å
python enhanced_rsa_tool.py --action verify --message "åŸå§‹æ¶ˆæ¯" --signature-file signature.bin
```

### 4. åŠ å¯†è§£å¯†

```bash
# åŠ å¯†æ¶ˆæ¯
python enhanced_rsa_tool.py --action encrypt --message "è¦åŠ å¯†çš„æ¶ˆæ¯" --output encrypted.txt

# è§£å¯†æ¶ˆæ¯
python enhanced_rsa_tool.py --action decrypt --message "Base64ç¼–ç çš„åŠ å¯†æ¶ˆæ¯" --output decrypted.txt
```

### 5. å¯†é’¥ä¿¡æ¯

```bash
# æ˜¾ç¤ºå¯†é’¥ä¿¡æ¯
python enhanced_rsa_tool.py --action info
```

## ğŸ“š ç¼–ç¨‹æ¥å£ä½¿ç”¨

### åŸºæœ¬ä½¿ç”¨

```python
from enhanced_rsa_tool import EnhancedRSATool

# åˆ›å»ºå·¥å…·å®ä¾‹
rsa_tool = EnhancedRSATool(2048)

# ç”Ÿæˆå¯†é’¥å¯¹
rsa_tool.generate_key_pair()

# è·å–å¯†é’¥ä¿¡æ¯
info = rsa_tool.get_key_info()
print(f"å¯†é’¥é•¿åº¦: {info['key_size']} ä½")
print(f"å¯†é’¥æŒ‡çº¹: {info['fingerprint']}")
```

### æ•°å­—ç­¾å

```python
# å¯¹æ¶ˆæ¯è¿›è¡Œç­¾å
message = "é‡è¦çš„æ¶ˆæ¯å†…å®¹"
signature = rsa_tool.sign_message(message, "signature.bin")

# éªŒè¯ç­¾å
is_valid = rsa_tool.verify_signature(message, signature)
print("ç­¾åéªŒè¯:", "æˆåŠŸ" if is_valid else "å¤±è´¥")
```

### åŠ å¯†è§£å¯†

```python
# åŠ å¯†æ¶ˆæ¯
message = "æ•æ„Ÿä¿¡æ¯"
encrypted = rsa_tool.encrypt_message(message)

# è§£å¯†æ¶ˆæ¯
decrypted = rsa_tool.decrypt_message(encrypted)
print(f"è§£å¯†ç»“æœ: {decrypted}")
```

### å¯†é’¥ç®¡ç†

```python
# å¯¼å‡ºå¯†é’¥ä¿¡æ¯
rsa_tool.export_key_info("key_info.json")

# åˆ›å»ºå¯†é’¥å¤‡ä»½
rsa_tool.create_key_backup("backup_dir")

# åŠ è½½ç°æœ‰å¯†é’¥
rsa_tool.load_keys("my_private.pem", "my_public.pem")
```

## ğŸ”§ è¿è¡Œç¤ºä¾‹

è¿è¡Œå®Œæ•´çš„åŠŸèƒ½æ¼”ç¤ºï¼š

```bash
python example_usage.py
```

è¿™å°†æ¼”ç¤ºæ‰€æœ‰åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š
- åŸºæœ¬å¯†é’¥æ“ä½œ
- æ•°å­—ç­¾åå’ŒéªŒè¯
- åŠ å¯†è§£å¯†
- æ–‡ä»¶æ“ä½œ
- å¯†é’¥ç®¡ç†

## ğŸ“ è¾“å‡ºæ–‡ä»¶è¯´æ˜

### ç”Ÿæˆçš„æ–‡ä»¶
- `private_key.pem` - RSA ç§é’¥æ–‡ä»¶
- `public_key.pem` - RSA å…¬é’¥æ–‡ä»¶
- `key_info.json` - å¯†é’¥ä¿¡æ¯æ–‡ä»¶
- `key_backup/` - å¯†é’¥å¤‡ä»½ç›®å½•
- `demo_signature.bin` - æ•°å­—ç­¾åæ–‡ä»¶
- `demo_encrypted.txt` - åŠ å¯†ç»“æœæ–‡ä»¶

### å®‰å…¨æ³¨æ„äº‹é¡¹
- ç§é’¥æ–‡ä»¶åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œè¯·å¦¥å–„ä¿ç®¡
- ä¸è¦å°†ç§é’¥æ–‡ä»¶ä¸Šä¼ åˆ°å…¬å…±ä»“åº“
- å»ºè®®å®šæœŸå¤‡ä»½å¯†é’¥æ–‡ä»¶
- ä½¿ç”¨å¼ºå¯†ç ä¿æŠ¤ç§é’¥æ–‡ä»¶

## ğŸ”’ å®‰å…¨ç‰¹æ€§

### ç®—æ³•é€‰æ‹©
- **ç­¾åç®—æ³•**: RSA-PSS with SHA-256
- **åŠ å¯†ç®—æ³•**: RSA-OAEP with SHA-256
- **å¯†é’¥é•¿åº¦**: æ”¯æŒ 2048/4096 ä½
- **å¡«å……æ–¹æ¡ˆ**: ä½¿ç”¨å®‰å…¨çš„å¡«å……æ–¹æ¡ˆ

### æœ€ä½³å®è·µ
- ä½¿ç”¨ 2048 ä½æˆ–æ›´é•¿çš„å¯†é’¥
- å®šæœŸè½®æ¢å¯†é’¥
- å®‰å…¨å­˜å‚¨ç§é’¥
- éªŒè¯å…¬é’¥çš„çœŸå®æ€§

## ğŸ§ª æµ‹è¯•

è¿è¡Œæµ‹è¯•ç¤ºä¾‹ï¼š

```bash
# åŸºæœ¬åŠŸèƒ½æµ‹è¯•
python example_usage.py

# å‘½ä»¤è¡ŒåŠŸèƒ½æµ‹è¯•
python enhanced_rsa_tool.py --action generate
python enhanced_rsa_tool.py --action sign --message "æµ‹è¯•æ¶ˆæ¯"
python enhanced_rsa_tool.py --action verify --message "æµ‹è¯•æ¶ˆæ¯" --signature-file demo_signature.bin
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### å¯†é’¥é•¿åº¦é€‰æ‹©
- **2048 ä½**: é€‚åˆä¸€èˆ¬ç”¨é€”ï¼Œæ€§èƒ½è¾ƒå¥½
- **4096 ä½**: é€‚åˆé«˜å®‰å…¨è¦æ±‚ï¼Œæ€§èƒ½ç¨æ…¢

### æ‰¹é‡æ“ä½œ
- å¯¹äºå¤§é‡æ–‡ä»¶ï¼Œå»ºè®®æ‰¹é‡å¤„ç†
- ä½¿ç”¨å¤šçº¿ç¨‹å¤„ç†å¯ä»¥æé«˜æ€§èƒ½

## ğŸ”® æœªæ¥æ‰©å±•è®¡åˆ’

- [ ] æ”¯æŒ ECC å¯†é’¥
- [ ] æ·»åŠ å¯†é’¥è½®æ¢åŠŸèƒ½
- [ ] æ”¯æŒç¡¬ä»¶å®‰å…¨æ¨¡å— (HSM)
- [ ] æ·»åŠ  Web ç•Œé¢
- [ ] æ”¯æŒæ›´å¤šåŠ å¯†ç®—æ³•
- [ ] æ·»åŠ å¯†é’¥æ¢å¤åŠŸèƒ½

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## ğŸ“ æ”¯æŒ

å¦‚æœæ‚¨é‡åˆ°é—®é¢˜æˆ–æœ‰å»ºè®®ï¼Œè¯·åˆ›å»º Issue æˆ–è”ç³»ç»´æŠ¤è€…ã€‚ 